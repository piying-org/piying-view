<ng-template #dynamicComponent let-field>
  @let renderConfig = field.renderConfig();
  @if (!renderConfig?.hidden) {
    @if (field.fixedChildren || field.restChildren) {
      <!-- 自定义group -->
      <ng-container
        [ngComponentOutlet]="field.define?.()"
        [ngComponentOutletInputs]="
          (groupInputsValue | pure: field.inputs : dynamicComponent)?.()
        "
        [ngComponentOutletWrappers]="field.wrappers()"
        [ngComponentOutletField]="field"
        [ngComponentOutletDirectives]="field.directives"
      ></ng-container>
    } @else {
      <ng-container
        [ngComponentOutlet]="field.define?.()"
        [ngComponentOutletInputs]="field.inputs()"
        [ngComponentOutletFormControl]="$any(field.form.control)"
        [ngComponentOutletWrappers]="field.wrappers()"
        [ngComponentOutletField]="field"
        [ngComponentOutletDirectives]="field.directives"
      ></ng-container>
    }
  }
</ng-template>

@if (resolvedField$(); as field) {
  <ng-container
    *ngTemplateOutlet="dynamicComponent; context: { $implicit: field }"
  ></ng-container>
}
